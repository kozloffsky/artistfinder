# ######################################################### # 
# ######################## TABLES ######################### # 
# ######################################################### # 

dyn_message:
  columns:
    messageId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    senderUserId:
      type: bigint(20)
      notnull: true
    receiverUserId:
      type: bigint(20)
      notnull: true
    subject:
      type: varchar(128)
      notnull: true
    messageText:
      type: varchar(512)
      notnull: true
    sendDateTime:
      type: datetime
      notnull: true
    readDateTime:
      type: datetime
  relations:
    dyn_user:
      local: senderUserId
      foreign: userId
    dyn_user:
      local: receiverUserId
      foreign: userId

dyn_message_file:
  columns:
    messageFileId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    messageId:
      type: bigint(20)
      notnull: true
    fileName:
      type: bigint(20)
      notnull: true
    fileSize:
      type: mediumint(9)
      notnull: true
  relations:
    dyn_message:
      local: messageId
      foreign: messageId

dyn_staff:
  columns:
    userId:
      type: bigint(20)
      primary: true
      notnull: true
    roleId:
      type: int(11)
      notnull: true
    signature:
      type: varchar(512)
  relations:
    dyn_user:
      local: userId
      foreign: userId
    ref_role:
      local: roleId
      foreign: roleId

ref_role:
  columns:
    roleId:
      type: int(11)
      primary: true
      autoincrement: true
      notnull: true
    code:
      type: varchar(32)
      notnull: true
      unique: true
    name:
      type: varchar(64)
      notnull: true

dyn_role_right:
  columns:
    roleId:
      type: int(11)
      primary: true
      notnull: true
    rightId:
      type: int(11)
      primary: true
      notnull: true
  relations:
    ref_role:
      local: roleId
      foreign: roleId
    ref_right:
      local: rightId
      foreign: rightId

ref_right:
  columns:
    rightId:
      type: int(11)
      primary: true
      autoincrement: true
      notnull: true
    code:
      type: varchar(32)
      notnull: true
      unique: true
    name:
      type: varchar(64)
      notnull: true

dyn_user:
  columns:
    userId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    firstname:
      type: varchar(128)
      notnull: true
    lastname:
      type: varchar(128)
      notnull: true
    email:
      type: varchar(256)
      notnull: true
      unique: true
    passwordHash:
      type: varchar(256)
      notnull: true
    primaryPhone:
      type: varchar(32)
      notnull: true
      unique: true
    secondaryPhone:
      type: varchar(32)
    active:
      type: boolean
      notnull: true
  indexes:
    KEY_DYN_USER_PASSWORDHASH:
      fields: [passwordHash]
    KEY_DYN_USER_ACTIVE:
      fields: [active]

dyn_client:
  columns:
    userId:
      type: bigint(20)
      primary: true
      notnull: true
    clientType:
      type: varchar(32)
      notnull: true
    company:
      type: varchar(128)
    comments:
      type: varchar(512)
    address:
      type: varchar(256)
      notnull: true
    cityId:
      type: int(11)
      notnull: true
  relations:
    dyn_user:
      local: userId
      foreign: userId
    ref_city:
      local: cityId
      foreign: cityId

dyn_event:
  columns:
    eventId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    eventRef:
      type: varchar(64)
      notnull: true
      unique: true
    userId:
      type: bigint(20)
      notnull: true
    title:
      type: varchar(128)
      notnull: true
    description:
      type: varchar(512)
    eventTypeId:
      type: int(11)
      notnull: true
    isInternational:
      type: boolean
      notnull: true
    address:
      type: varchar(256)
      notnull: true
    cityId:
      type: int(11)
      notnull: true
    budget:
      type: double
    currencyId:
      type: int(11)
    startingDate:
      type: datetime
    endingDate:
      type: datetime
    timing:
      type: varchar(128)
    comments:
      type: varchar(512)
  relations:
    dyn_user:
      local: userId
      foreign: userId
    ref_event_type:
      local: eventTypeId
      foreign: eventTypeId
    ref_city:
      local: cityId
      foreign: cityId
    ref_currency:
      local: currencyId
      foreign: currencyId

dyn_document:
  columns:
    documentId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    eventId:
      type: bigint(20)
      notnull: true
    documentType:
      type: varchar(32)
      notnull: true
    documentName:
      type: varchar(256)
      notnull: true
      unique: true
    documentSize:
      type: mediumint(9)
      notnull: true
  relations:
    dyn_event:
      local: eventId
      foreign: eventId

dyn_artist:
  columns:
    userId:
      type: bigint(20)
      primary: true
      notnull: true
    name:
      type: varchar(128)
      notnull: true
    assistantName:
      type: varchar(128)
    website:
      type: varchar(256)
    paymentDetails:
      type: varchar(512)
    vatRate:
      type: double
    comments:
      type: varchar(512)
    cityId:
      type: int(11)
      notnull: true
  relations:
    dyn_user:
      local: userId
      foreign: userId
    ref_city:
      local: cityId
      foreign: cityId

dyn_artist_rating:
  columns:
    eventId:
      type: bigint(20)
      primary: true
      notnull: true
    artistId:
      type: bigint(20)
      primary: true
      notnull: true
    rating:
      type: int(3)
      notnull: true
    title:
      type: varchar(128)
    comments:
      type: varchar(512)
    ratingDateTime:
      type: datetime
      notnull: true
  relations:
    dyn_event:
      local: eventId
      foreign: eventId
    dyn_user:
      local: artistId
      foreign: userId

dyn_event_offer:
  columns:
    eventId:
      type: bigint(20)
      primary: true
      notnull: true
    offerId:
      type: bigint(20)
      primary: true
      notnull: true
    status:
      type: varchar(32)
      notnull: true
    price:
      type: double
      notnull: true
    currencyId:
      type: int(11)
      notnull: true
    depositValue:
      type: double
      notnull: true
    depositType:
      type: varchar(32)
      notnull: true
    paymentTerms:
      type: varchar(256)
    comments:
      type: varchar(256)
    sendDateTime:
      type: datetime
      notnull: true
    readDateTime:
      type: datetime
  indexes:
    KEY_DYN_EVENT_OFFER_STATUS:
      fields: [status]
  relations:
    dyn_event:
      local: eventId
      foreign: eventId
    dyn_offer:
      local: offerId
      foreign: offerId
    ref_currency:
      local: currencyId
      foreign: currencyId

dyn_event_service:
  columns:
    eventId:
      type: bigint(20)
      primary: true
      notnull: true
    serviceId:
      type: bigint(20)
      primary: true
      notnull: true
    status:
      type: varchar(32)
      notnull: true
    price:
      type: double
      notnull: true
    currencyId:
      type: int(11)
      notnull: true
    depositValue:
      type: double
      notnull: true
    depositType:
      type: varchar(32)
      notnull: true
    paymentTerms:
      type: varchar(256)
    comments:
      type: varchar(256)
    sendDateTime:
      type: datetime
      notnull: true
    readDateTime:
      type: datetime
  indexes:
    KEY_DYN_EVENT_SERVICE_STATUS:
      fields: [status]
    KEY_DYN_EVENT_SERVICE_CURRENCYID:
      fields: [currencyId]
    KEY_DYN_EVENT_SERVICE_DEPOSITTYPE:
      fields: [depositType]
  relations:
    dyn_event:
      local: eventId
      foreign: eventId
    dyn_service:
      local: serviceId
      foreign: serviceId
    ref_currency:
      local: currencyId
      foreign: currencyId

dyn_event_extra:
  columns:
    extraId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    eventId:
      type: bigint(20)
      notnull: true
    name:
      type: varchar(128)
      notnull: true
    price:
      type: double
      notnull: true
    currencyId:
      type: int(11)
      notnull: true
    comments:
      type: varchar(256)
  indexes:
    KEY_DYN_EVENT_EXTRA_EVENTID:
      fields: [eventId]
    KEY_DYN_EVENT_EXTRA_CURRENCYID:
      fields: [currencyId]
  relations:
    dyn_event:
      local: eventId
      foreign: eventId
    ref_currency:
      local: currencyId
      foreign: currencyId

dyn_artist_agenda:
  columns:
    agendaId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    profileId:
      type: bigint(20)
      notnull: true
    title:
      type: varchar(128)
      notnull: true
    description:
      type: varchar(512)
      notnull: true
    startingDatetime:
      type: datetime
    endingDatetime:
      type: datetime
  indexes:
    KEY_DYN_ARTIST_AGENDA_PROFILEID:
      fields: [profileId]
  relations:
    dyn_profile:
      local: profileId
      foreign: profileId

dyn_profile:
  columns:
    profileId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    userId:
      type: bigint(20)
      notnull: true
    title:
      type: varchar(128)
      notnull: true
    header:
      type: varchar(512)
    description:
      type: text
    isInternational:
      type: boolean
      notnull: true
    performanceRange:
      type: int(8)
    paymentTypeId:
      type: int(11)
      notnull: true
    active:
      type: boolean
      notnull: true
  indexes:
    KEY_DYN_PROFILE_USERID:
      fields: [userId]
    KEY_DYN_PROFILE_ACTIVE:
      fields: [active]
  relations:
    dyn_user:
      local: userId
      foreign: userId
    ref_payment_type:
      local: paymentTypeId
      foreign: paymentId

dyn_performance:
  columns:
    performanceId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    profileId:
      type: bigint(20)
      notnull: true
    title:
      type: varchar(128)
      notnull: true
    techRequirement:
      type: varchar(512)
  relations:
    dyn_profile:
      local: profileId
      foreign: profileId

dyn_offer:
  columns:
    offerId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    performanceId:
      type: bigint(20)
      notnull: true
    title:
      type: varchar(128)
      notnull: true
      unique: true
    price:
      type: double
      notnull: true
    currencyId:
      type: int(11)
      notnull: true
    depositValue:
      type: double
      notnull: true
    depositType:
      type: varchar(32)
      notnull: true
    paymentTerms:
      type: varchar(256)
    comments:
      type: varchar(256)
  indexes:
    KEY_DYN_OFFER_PERFORMANCEID:
      fields: [performanceId]
    KEY_DYN_OFFER_CURRENCYID:
      fields: [currencyId]
    KEY_DYN_OFFER_DEPOSITTYPE:
      fields: [depositType]
  relations:
    dyn_performance:
      local: performanceId
      foreign: performanceId
    ref_currency:
      local: currencyId
      foreign: currencyId

dyn_service:
  columns:
    serviceId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    performanceId:
      type: bigint(20)
      notnull: true
    title:
      type: varchar(128)
      notnull: true
      unique: true
    price:
      type: double
      notnull: true
    currencyId:
      type: int(11)
      notnull: true
    depositValue:
      type: double
      notnull: true
    depositType:
      type: varchar(32)
      notnull: true
    paymentTerms:
      type: varchar(256)
    comments:
      type: varchar(256)
  indexes:
    KEY_DYN_SERVICE_PERFORMANCEID:
      fields: [performanceId]
    KEY_DYN_SERVICE_CURRENCYID:
      fields: [currencyId]
    KEY_DYN_SERVICE_DEPOSITTYPE:
      fields: [depositType]
  relations:
    dyn_performance:
      local: performanceId
      foreign: performanceId
    ref_currency:
      local: currencyId
      foreign: currencyId

dyn_media:
  columns:
    mediaId:
      type: bigint(20)
      primary: true
      autoincrement: true
      notnull: true
    mediaType:
      type: varchar(32)
      notnull: true
    name:
      type: varchar(128)
      notnull: true
    link:
      type: varchar(256)
    mediaSize:
      type: mediumint(9)
    position:
      type: int(11)
      notnull: true
    active:
      type: boolean
      notnull: true
  indexes:
    KEY_DYN_MEDIA_ACTIVE:
      fields: [active]

dyn_profile_media:
  columns:
    mediaId:
      type: bigint(20)
      primary: true
      notnull: true
    profileId:
      type: bigint(20)
      primary: true
      notnull: true
  relations:
    dyn_media:
      local: mediaId
      foreign: mediaId
    dyn_profile:
      local: profileId
      foreign: profileId

dyn_performance_media:
  columns:
    mediaId:
      type: bigint(20)
      primary: true
      notnull: true
    performanceId:
      type: bigint(20)
      primary: true
      notnull: true
  relations:
    dyn_media:
      local: mediaId
      foreign: mediaId
    dyn_performance:
      local: performanceId
      foreign: performanceId

ref_currency:
  columns:
    currencyId:
      type: int(11)
      primary: true
      autoincrement: true
      notnull: true
    isoCode:
      type: varchar(3)
      notnull: true
      unique: true
    symbol:
      type: varchar(8)
      notnull: true

ref_city:
  columns:
    cityId:
      type: int(11)
      primary: true
      autoincrement: true
      notnull: true
    name:
      type: varchar(128)
      notnull: true
      unique: true
    countryId:
      type: int(11)
      notnull: true
  indexes:
    KEY_REF_CITY_COUNTRYID:
      fields: [countryId]

ref_country:
  columns:
    countryId:
      type: int(11)
      primary: true
      autoincrement: true
      notnull: true
    name:
      type: varchar(128)
      notnull: true
      unique: true

ref_event_type:
  columns:
    eventTypeId:
      type: int(11)
      primary: true
      autoincrement: true
      notnull: true
    eventType:
      type: varchar(32)
      notnull: true
      unique: true

ref_payment_type:
  columns:
    paymentId:
      type: int(11)
      primary: true
      autoincrement: true
      notnull: true
    paymentType:
      type: varchar(32)
      notnull: true
      unique: true

ref_translation:
  columns:
    translationId:
      type: mediumint(9)
      primary: true
      autoincrement: true
      notnull: true
    en:
      type: varchar(512)
      notnull: true
    fr:
      type: varchar(512)
      notnull: true

